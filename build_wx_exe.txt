1. Install MSYS2

2. Open MSYS2 UCRT64 shell (important, not plain MSYS shell).
3.
# Update package database and core packages
pacman -Syu

# Close the terminal if required and reopen MSYS2 MinGW64 shell
# Install gcc, g++, make, and other essentials
pacman -S base-devel mingw-w64-x86_64-toolchain mingw-w64-x86_64-cmake

4. Download and extract wxWidgets source

#######################

cd /d/data/code/others/wxWidgets-3.2.8
mkdir build-static
cd build-static

../configure --disable-shared --enable-unicode --with-msw \
    --disable-dependency-tracking \
    --with-libjpeg=builtin \
    --with-libpng=builtin \
    --with-libtiff=builtin \
    --with-zlib=builtin \
    CXXFLAGS="-static-libgcc -static-libstdc++"

make -j8
make install


###########################






g++ main.cpp -o wx_image_example.exe \
    `wx-config --cxxflags --libs std,core,base` \
    -lzstd -lwebp -ldeflate -lz -lcomctl32 -lole32 -luuid -lversion -lshell32
	
#Force fully static build	
g++ main.cpp -o wx_image_example.exe \
    `wx-config --cxxflags --libs std,core,base` \
    -static -lz -lcomctl32 -lole32 -luuid -lversion -lshell32	
#ldd wx_image_example.exe